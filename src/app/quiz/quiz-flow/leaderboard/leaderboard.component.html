<div class="row">
  <h4 *ngIf="!leaderBoardCorrect.length"
      class="col-12 mt-5 text-center">
    <span>{{'component.leaderboard.no_attendee_correct' | translate}}</span>
  </h4>

  <h4 *ngIf="leaderBoardCorrect.length"
      class="col-12">
    <span *ngIf="isGlobalRanking">
      {{'component.leaderboard.title.all_questions' | translate }}
    </span>
    <span *ngIf="!isGlobalRanking">
      {{'component.leaderboard.title.single_question' | translate:{QUESTION_ID: (questionIndex + 1)} }}
    </span>
  </h4>

  <ng-container *ngIf="quizService.quiz?.sessionConfig?.nicks.memberGroups.length > 1;else attendeeView">
    <ng-container *ngFor="let group of memberGroupResults">
      <div class="col-12 col-sm-6">
        <div class="bg-secondary rounded p-2 my-2 ">
          <h6 class="text-center mb-0">{{'component.leaderboard.team-result.name' | translate:{TEAM_NAME: group.name} }}</h6>
          <hr/>
          <p>{{'component.leaderboard.team-result.overall-response-time' | translate:{RESPONSE_TIME: formatResponseTime(group.responseTime)} }}</p>
          <p>{{'component.leaderboard.team-result.score' | translate:{SCORE: group.score} }}</p>
        </div>
      </div>
    </ng-container>
  </ng-container>

</div>

<ng-template #attendeeView>
  <div *ngFor="let attendee of leaderBoardCorrect; let i = index"
       [class.col-12]="!i"
       [class.col-sm-6]="!!i">
    <div class="bg-secondary rounded p-2 my-2"
         [class.own-nick]="!i || attendeeService.isOwnNick(attendee.name)"
         [class.text-center]="!i">
      <fa-icon *ngIf="!i"
               class="mr-2"
               [icon]="'trophy'"></fa-icon>
      <span *ngIf="i">{{i + 1}}.&nbsp;</span>
      <span><span class="d-inline-flex"
                  [innerHTML]="parseNickname(attendee.name)"></span>&nbsp;-&nbsp;</span>
      <span>{{'component.leaderboard.team-result.score' | translate:{SCORE: attendee.score} }}</span>
    </div>
  </div>

  <h5 *ngIf="hasOwnResponse()"
      class="mb-0 mt-5 text-center">
    <span>{{'component.leaderboard.own-rank.own-data' | translate:{INDEX: ownResponse.index + 1, SCORE: ownResponse.element.score} }}</span>
    <span *ngIf="ownResponse.closestOpponent">{{'component.leaderboard.own-rank.closest-opponent' | translate:{NAME: ownResponse.closestOpponent.name, SCORE: ownResponse.closestOpponent.score} }}</span>
  </h5>
</ng-template>