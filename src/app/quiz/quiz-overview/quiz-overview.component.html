<div [class.center-vertical]="!sessions.length"
     class="d-flex flex-column justify-content-center">
  <h2 *ngIf="!sessions.length"
      class="text-center">{{'component.name_management.no_sessions' | translate}}</h2>

  <h5 *ngIf="publicQuizAmount > 0"
      [class.mt-5]="!sessions.length"
      [class.pt-5]="!sessions.length"
      class="text-center mb-5 pb-5">
    <a [routerLink]="['/quiz', 'public']">{{'component.name_management.public-quizzes' | translate:{amount: publicQuizAmount} }}</a>
  </h5>
</div>

<div class="row">
  <div *ngFor="let elem of sessions; let i = index"
       class="col-12 col-lg-6">
    <div class="card mb-3 text-dark p-0">

      <div class="card-header">
        <h6 class="mb-0">{{elem.name}}</h6>
      </div>

      <div class="card-body text-break">
        <p class="card-text">
          <span *ngIf="elem.isValid()"
                class="text-success">
            {{'component.quiz_summary.question_group_successful' | translate}}
          </span>
          <span *ngIf="!elem.isValid()"
                class="text-danger">
            {{'component.quiz_summary.question_group_failed' | translate}}
          </span>
        </p>
      </div>

      <div class="card-footer">

        <div class="d-flex justify-content-around">
          <ng-container *ngIf="elem.isValid() && connectionService.serverAvailable">

            <button (click)="saveQuiz(i)"
                    *ngIf="isAuthorizedToSaveQuiz() && isAuthorizedToModifyQuiz()"
                    [title]="'component.name_management.save_session' | translate"
                    class="btn btn-secondary">
              <fa-icon *ngIf="isSaved(i)"
                       [icon]="'check'"></fa-icon>
              <fa-icon *ngIf="!isSaved(i)"
                       [icon]="'save'"></fa-icon>
            </button>

            <button (click)="startQuiz(elem)"
                    [title]="'component.name_management.start_session' | translate"
                    class="btn btn-secondary">
              <fa-icon [icon]="isStartingQuiz === elem ? 'spinner' : 'paper-plane'"
                       [spin]="isStartingQuiz === elem"></fa-icon>
            </button>

          </ng-container>

          <button (click)="editQuiz(i)"
                  *ngIf="isAuthorizedToModifyQuiz()"
                  [title]="'component.name_management.edit_session' | translate"
                  class="btn btn-secondary">
            <fa-icon [icon]="'edit'"></fa-icon>
          </button>

          <button (click)="exportQuiz(i)"
                  *ngIf="isAuthorizedToModifyQuiz()"
                  [title]="'component.name_management.export' | translate"
                  class="btn btn-secondary">
            <fa-icon [icon]="'download'"></fa-icon>
          </button>

          <button (click)="deleteQuiz(elem)"
                  [disabled]="!connectionService.serverAvailable"
                  [title]="'component.name_management.delete_session' | translate"
                  class="btn btn-secondary">
            <fa-icon [icon]="isDeletingQuiz === elem ? 'spinner' : 'trash'"
                     [spin]="isDeletingQuiz === elem"></fa-icon>
          </button>
        </div>

      </div>
    </div>
  </div>
</div>
